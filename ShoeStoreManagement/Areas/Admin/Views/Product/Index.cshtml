@using ShoeStoreManagement.Areas.Admin.Controllers
@using ShoeStoreManagement.Views.Shared.Components;
@using ShoeStoreManagement.Core.Models;
@using ShoeStoreManagement.Core.ViewModel;
@using Microsoft.AspNetCore.Components;
@using Microsoft.AspNetCore.Components.Web;

@model ProductVM

@{
	List<string> priceFilters = new List<string> { "", "0-10", "10-100", "100-1000" };

	var nProducts = Model.page;
}

<style>
    table,
    thead {
        border-bottom: dotted;
        border-bottom: 1px solid rgba(20, 33, 61, 0.1);
    }

</style>


<div class="row">
	<form asp-action="Search" method="post" onsubmit="return jQueryAjaxSort(this);">
		<div class="radioLayoutTabCustom row-cols-6 w-100">
			<input class="rounded w-10" type="text" name="searchString" />
			<input class="btn btn-secondary rounded w-10" type="submit" value="Search Me" onclick="showContent2('@(Url.Action("AddCategory", "Product"))','Shoe Categories')" />
		</div>
		<input class="btn btn-secondary rounded w-10" type="button" value="Add Category" />
	</form>

	<form asp-action="Sort" method="post" class="col-2 borderCustom1" onsubmit="return jQueryAjaxSort(this);">
        <div class="form-group col">
            <div class="row">
                <ii class="row-1 h6 mb-2 mt-4">Category</ii>

				<div class="radioLayoutTabCustom row-cols-6 w-100" style="max-height:260px; overflow-y:scroll; overflow-x:hidden">
					@if (string.IsNullOrEmpty(Model.filters[0]))
					{
						<label class="radioLayoutTabCustom"> <input type="radio" value="" name="categoryRadio" checked />All</label>
					}
					@if (!string.IsNullOrEmpty(Model.filters[0]))
					{
						<label class="radioLayoutTabCustom"> <input type="radio" value="" name="categoryRadio" />All</label>
					}
					@foreach (ProductCategory i in Model.productCategories)
					{
						if (i.ProductCategoryName.Equals(Model.filters[0]))
						{
							<label class="radioLayoutTabCustom"> <input type="radio" value="@i.ProductCategoryName" name="categoryRadio" checked />@i.ProductCategoryName</label>
						}
						else
						{
							<label class="radioLayoutTabCustom"> <input type="radio" value="@i.ProductCategoryName" name="categoryRadio" />@i.ProductCategoryName</label>
						}
					}

                </div>

            </div>

            <div class="row mt-3">
                <ii class="row-1 h6">Price</ii>

				<div class="radioLayoutTabCustom row-cols-6 w-100">
					@foreach (string i in priceFilters)
					{
						if (i.Equals(Model.filters[1]))
						{
							<label class="radioLayoutTabCustom"> <input type="radio" value="@i" name="priceRadio" checked />@i</label>
						}
						else if (string.IsNullOrEmpty(i))
						{
							<label class="radioLayoutTabCustom"> <input type="radio" value="" name="priceRadio" checked />All</label>
						}
						else
						{
							<label class="radioLayoutTabCustom"> <input type="radio" value="@i" name="priceRadio" />@i</label>
						}
					}
				</div>
			</div>

            <input class="btn btn-secondary rounded w-100 mt-5" type="submit" value="Sort"/>
        </div> @*used to col-3 vs col-10*@
    </form>

	<div class="container col-10">
		<div class="row">
			<div class="col-md-12" id="hihi">
				<partial name="_ViewAll" model=@Model view-data="ViewData"/>
			</div>
		</div>
	</div>
</div>

<a onclick="showContent2('@Url.Action("Create","Product",null,Context.Request.Scheme)','Add new Product')" class="border-1 table-icon btn btn-primary icon-plus rounded" style="width:fit-content">
</a>

@{
    <partial name="./_ValidationScriptsPartial"></partial>
}