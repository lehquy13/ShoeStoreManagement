@model ShoeStoreManagement.Core.Models.Product

@using ShoeStoreManagement.Areas.Admin.Controllers
@using ShoeStoreManagement.Views.Shared.Components;
@using ShoeStoreManagement.Core.Models;
@using Microsoft.AspNetCore.Components;
@using Microsoft.AspNetCore.Components.Web;

@{
	List<Product>? products = ViewData["products"] as List<Product> ?? null;
	List<ProductCategory>? productCategories = ViewData["productCategories"] as List<ProductCategory> ?? null;
	List<string> filters = ViewData["filters"] as List<string> ?? null;
	List<string> priceFilters = new List<string> { "", "0-10", "10-100", "100-1000" };
}

<style>
	table,
	thead {
		border-bottom: dotted;
		border-bottom: 1px solid rgba(20, 33, 61, 0.1);
	}

</style>

<form action="Admin/Product/Index">
    <div class="row">

        <div class="col-2 borderCustom1">
            <div class="col">
                <div class="row">
                    <ii class="row-1 h6 mb-2 mt-4">Category</ii>

				<div class="radioLayoutTabCustom row-cols-6">
						@if (string.IsNullOrEmpty(filters[0])){
							<label class="radioLayoutTabCustom"> <input type="radio" value="" name="categoryRadio"/>All</label>
						}
						@foreach (ProductCategory i in productCategories) {
							if (i.ProductCategoryName.Equals(filters[0]))
							{
								<label class="radioLayoutTabCustom"> <input type="radio" value="@i.ProductCategoryName" name="categoryRadio" checked/>@i.ProductCategoryName</label>
							}
							else {
								<label class="radioLayoutTabCustom"> <input type="radio" value="@i.ProductCategoryName" name="categoryRadio"/>@i.ProductCategoryName</label>
							}
						}
					@*<button class="tabCustom" onclick="openCity(event, 'London')">All</button>
					<button class="tabCustom" onclick="openCity(event, 'London')">Retro</button>
					<button class="tabCustom" onclick="openCity(event, 'London')">Basic</button>
					<button class="tabCustom" onclick="openCity(event, 'London')">Street</button>
					<button class="tabCustom" onclick="openCity(event, 'London')">Sweet</button*@

				</div>

                </div>

                <div class="row mt-3">
                    <ii class="row-1 h6">Price</ii>

				<div class="radioLayoutTabCustom row-cols-6">
					@foreach(string i in priceFilters){
						if (i.Equals(filters[1]))
						{
							<label class="radioLayoutTabCustom"> <input type="radio" value="@i" name="priceRadio" checked />@i</label>
						}
						else if (string.IsNullOrEmpty(i)){
							<label class="radioLayoutTabCustom"> <input type="radio" value="" name="priceRadio" checked />All</label>
						}
						else {
							<label class="radioLayoutTabCustom"> <input type="radio" value="@i" name="priceRadio" />@i</label>
						}
					}
				</div>
			</div>
			
				<input class="btn-primary" type="submit"/>			
		</div>
	</div> @*used to col-3 vs col-10*@

        <div class="container col-10">
            <div class="row">
                <div class="col-md-12">
                    <div class="table-wrap">
                        <table class="table myaccordion table-hover" id="accordion">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th class="button">Name</th>
                                    <th class="button">Price</th>
                                    <th class="button">Color</th>
                                    <th class="button">Category</th>
                                    <th class="button">Amount</th>
                                    <th class="button">Edit</th>
                                    <th class="button">Add to cart</th>


                                </tr>
                            </thead>
                            <tbody>
                                @if (products != null)
                                {
                                    var a = 0;
                                    foreach (var i in products)
                                    {
                                        a++;
                                        <tr data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne" class="collapsed">

                                            <th scope="row">@a</th>
                                            <td>@i.ProductName</td>
                                            <td>@i.ProductUnitPrice</td>
                                            <td>@i.Color</td>
                                            <td>@i.ProductCategory.ProductCategoryName</td>
                                            <td>@i.Amount</td>
                                            <td>
                                                <a href="@Url.Action("Edit","Product",new {id = @i.ProductId})" class="fas fa-edit"></a>
                                            </td>
                                            <td>
                                                <button id="SaveSelectedUsers" type="button" class="btn btn-primary"></button>

                                            </td>
                                        </tr>

                                    }
                                }




                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>
</div>
</form>
@{
    Product metmoi = new Product()
    {
    };


}

@*<partial name="Create.cshtml" view-data="ViewData" model="new Product() {Sizes = new List<SizeDetail>() {new SizeDetail() {Size = 35, Amount = 1}, new SizeDetail() {Size = 36, Amount = 1}}}"></partial>*@

<partial name="Create.cshtml" view-data="ViewData" model="metmoi" />

<script src="~/js/site1.js" asp-append-version="true"></script>
@section Scripts {
    @{
                <partial name="./_ValidationScriptsPartial"></partial>

    }
	}