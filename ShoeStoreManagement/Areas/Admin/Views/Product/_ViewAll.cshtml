@using ShoeStoreManagement.Core.Models

@model List<Product>

@{
	int nProducts = 0;
	nProducts = Int32.Parse(ViewData["nProducts"].ToString()) ;
}

<div class="table-wrap">
	<table class="table myaccordion table-hover" id="accordion">
		<thead>
			<tr>
				<th>#</th>
				<th class="button">Name</th>
				<th class="button">Price</th>
				<th class="button">Color</th>
				<th class="button">Category</th>
				<th class="button">Amount</th>
				<th class="button">Edit</th>
				<th class="button">Add to cart</th>
			</tr>
		</thead>
		<tbody>
			@if (Model != null)
			{
				var a = nProducts * 10;
				for (int i = (nProducts) * 10; i < Model.Count; i++)
				{
					a++;
					if (a == (nProducts + 1) * 10 + 1) break;

					<tr data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne" class="collapsed align-middle">

						<th scope="row">@a</th>
						<td>
							@if (Model[i].ImageName != null)
							{
								<img src="~/image/@Model[i].ImageName"
									 class="rounded-circle"
									 height="40" width="40"
									 asp-append-version="true" />
							}
							@Model[i].ProductName
						</td>
						<td>$@Model[i].ProductUnitPrice</td>
						<td>@Model[i].Color</td>
						<td>@Model[i].ProductCategory.ProductCategoryName</td>
						<td>@Model[i].Amount</td>
						<td>
							<a onclick="showContent('@Url.Action("Edit","Product",null,Context.Request.Scheme)','Edit Product @Model[i].ProductName','@Model[i].ProductId')" class="border-1 table-icon">
								<i class="fas fa-edit"></i>
							</a>
						</td>
						<td>
							<a onclick="showContent('@Url.Action("ChooseSize","Product",null,Context.Request.Scheme)','Choose Sizes','@Model[i].ProductId')" class="link-info table-icon">
								<i class="fas fa-cart-plus"></i>
							</a>
						</td>
					</tr>

				}
			}
		</tbody>
	</table>
</div>